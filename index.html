<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Underworld</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes glitch {
            0% { text-shadow: 2px 2px gray, -2px -2px black; }
            25% { text-shadow: -2px 2px gray, 2px -2px black; transform: skewX(-5deg); }
            50% { text-shadow: 2px -2px gray, -2px 2px black; transform: skewX(5deg); }
            75% { text-shadow: -2px -2px gray, 2px 2px black; transform: skewX(-5deg); }
            100% { text-shadow: 2px 2px gray, -2px -2px black; }
        }

        @keyframes fadeOut {
            0% { opacity: 1; }
            100% { opacity: 0; visibility: hidden; pointer-events: none; }
        }
        
        #mist {
    pointer-events: none; /* Ensures clicks go through */
}
    </style>
</head>
<body class="bg-black text-gray-400 flex flex-col items-center justify-center min-h-screen relative overflow-hidden">
    <audio id="bg-music" loop>
        <source src="IRANG.mp3" type="audio/mpeg">
    </audio>

    <!-- Animated Mist -->
    <div id="mist" class="absolute inset-0 bg-gradient-to-b from-black via-gray-800 to-black opacity-60 transition-all duration-500"></div>

    <!-- Glitching Title -->
    <h1 id="title" class="text-6xl md:text-8xl font-bold text-center tracking-wider relative z-10 animate-[glitch_1s_infinite]">
        greg
    </h1>

    <!-- Pulsing Enter Button -->
    <button id="enter-btn" class="mt-16 text-lg bg-gray-700 text-white px-10 py-4 rounded-lg font-bold transition-all duration-300 hover:scale-110 hover:bg-gray-600 shadow-lg">
        ENTER
    </button>
    
    <!-- Hidden Links -->
    <div id="hidden-links" class="hidden mt-12 flex flex-col space-y-4 text-center relative z-20">
        <a href="https://warm-my-lap.fun" target="_blank" class="block text-gray-300 px-6 py-3 border border-gray-500 rounded-md transition duration-300 hover:bg-gray-600 hover:text-white shadow-md">Warm My Lap</a>
        <a href="https://yesbutno.wtf" target="_blank" class="block text-gray-300 px-6 py-3 border border-gray-500 rounded-md transition duration-300 hover:bg-gray-600 hover:text-white shadow-md">Yes But No</a>
        <a href="https://kanye-is-the-best-music-artist.com" target="_blank" class="block text-gray-300 px-6 py-3 border border-gray-500 rounded-md transition duration-300 hover:bg-gray-600 hover:text-white shadow-md">Kanye's Music</a>
        <a href="https://trulyrandom.icu" target="_blank" class="block text-gray-300 px-6 py-3 border border-gray-500 rounded-md transition duration-300 hover:bg-gray-600 hover:text-white shadow-md">Truly Random</a>
    </div>

    <script>
        const audio = document.getElementById("bg-music");
        const title = document.getElementById("title");
        const mist = document.getElementById("mist");
        const button = document.getElementById("enter-btn");

        document.getElementById("enter-btn").addEventListener("click", function() {
            document.getElementById("hidden-links").classList.remove("hidden");
            title.style.animation = "fadeOut 1s forwards ease-out";
            this.classList.add("hidden");
            audio.play();
            setupAudioVisualizer();
        });

        function setupAudioVisualizer() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const source = audioContext.createMediaElementSource(audio);
            const analyzer = audioContext.createAnalyser();
            analyzer.fftSize = 256; // Controls frequency resolution
            const bufferLength = analyzer.frequencyBinCount;
            const dataArray = new Uint8Array(bufferLength);
            
            source.connect(analyzer);
            analyzer.connect(audioContext.destination);

            function animate() {
                requestAnimationFrame(animate);
                analyzer.getByteFrequencyData(dataArray);

                let bass = dataArray.slice(0, bufferLength / 4).reduce((a, b) => a + b) / (bufferLength / 4);
                let treble = dataArray.slice(3 * bufferLength / 4).reduce((a, b) => a + b) / (bufferLength / 4);

                // ðŸ”¥ Reacts to Bass - Makes Mist Glow
                mist.style.opacity = 0.3 + bass / 500;
                mist.style.transform = `scale(${1 + bass / 800})`;

                // ðŸ”¥ Reacts to Treble - Makes Title Glitch Harder
                title.style.transform = `skewX(${Math.sin(Date.now() / 100) * treble / 20}deg)`;
                title.style.textShadow = `${Math.sin(Date.now() / 50) * 5}px ${Math.cos(Date.now() / 50) * 5}px rgba(255, 0, 0, 0.8), 
                                          ${Math.cos(Date.now() / 50) * -5}px ${Math.sin(Date.now() / 50) * -5}px rgba(0, 255, 0, 0.8)`;

                // ðŸ”¥ Reacts to Bass - Button Pulse Effect
                button.style.boxShadow = `0 0 ${bass / 20}px rgba(255, 0, 255, 0.8)`;
            }

            animate();
        }
    </script>
</body>
</html>
